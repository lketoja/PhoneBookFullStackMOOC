{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Filter","handleFilterChange","filterText","onChange","value","PersonForm","addName","handleNameChange","newName","handleNumberChange","newNumber","onSubmit","type","Persons","persons","handleDeleteOf","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","Notification","message","colour","console","log","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","getAll","a","axios","get","response","data","create","newObject","post","update","put","remove","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterText","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","then","people","replaceTheOldNumber","personToBeChanged","window","confirm","changedPerson","updatedPerson","catch","error","setTimeout","addNewPerson","newPerson","concat","event","target","preventDefault","find","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f84bab1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleFilterChange, filterText}) => \r\n    <div>\r\n        filter shown with: <input onChange={handleFilterChange} value={filterText}/>\r\n    </div>\r\n\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addName, handleNameChange, newName, handleNumberChange, newNumber}) =>\r\n    <form onSubmit={addName}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} value={newName}/>\r\n        </div>\r\n        <div>\r\n          number: <input onChange={handleNumberChange} value={newNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filterText, handleDeleteOf}) => \r\n  \r\n  persons\r\n    .filter(person => \r\n      person.name.toLowerCase().includes(filterText.toLowerCase())\r\n    )\r\n    .map(person => \r\n      <p key={person.name}>\r\n        {person.name}: {person.number}\r\n        <button onClick={() => handleDeleteOf(person.id)}>delete</button>\r\n      </p>\r\n    )\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({message, colour}) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    console.log(colour)\r\n    const successStyle = {\r\n        color: colour,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 15\r\n    }\r\n    return(\r\n        <div style={successStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = \"/api/people\"\r\n\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n}\r\n\r\nconst create = async (newObject) => {\r\n    const response = await axios.post(baseUrl, newObject)\r\n    return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n    const response = await axios.put(`${baseUrl}/${id}`, newObject)\r\n    return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n    const response = await axios.delete(`${baseUrl}/${id}`)\r\n    return response.data\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, {useState, useEffect} from 'react';\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/person'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null) \n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(people => setPersons(people))\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = event => setNewName(event.target.value)\n\n  const handleNumberChange = event => setNewNumber(event.target.value)\n\n  const handleFilterChange = event => setFilterText(event.target.value)\n\n  const addPerson = event => {\n    event.preventDefault()\n    const personToBeChanged = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())   \n    if(personToBeChanged){\n      replaceTheOldNumber(personToBeChanged)\n    } else {\n      addNewPerson()\n    }\n  }\n\n  const replaceTheOldNumber = personToBeChanged => {\n    if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n      const changedPerson = {...personToBeChanged, number: newNumber}\n      personService\n        .update(personToBeChanged.id, changedPerson)\n        .then(updatedPerson => {\n          console.log(updatedPerson)\n          setPersons(persons.map(person => person.id !== personToBeChanged.id ? person : updatedPerson))\n        })\n        .catch(error => {\n          console.log(error)\n          setErrorMessage(`Information of ${newName} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        }) \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addNewPerson = () => {\n    const newPerson = {name: newName, number: newNumber}\n      personService\n        .create(newPerson)              \n        .then(person => {\n          setPersons(persons.concat(person))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 3000)\n        }) \n  }\n\n  const deletePersonById = id => {\n    console.log(`delete person with id ${id}`)\n    const personToDelete = persons.find(person => person.id === id)\n    if(window.confirm(`Do you wan't to delete ${personToDelete.name}`)){\n      personService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} colour=\"green\" />\n      <Notification message={errorMessage} colour=\"red\"/>\n      <Filter \n        handleFilterChange={handleFilterChange} \n        filterText={filterText}\n      />\n      <h2>Add a new</h2>\n      <PersonForm \n        addName={addPerson}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        handleNumberChange={handleNumberChange}\n        newNumber={newNumber}  \n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        filterText={filterText} \n        handleDeleteOf={deletePersonById}\n      />\n    </div>\n  )\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}